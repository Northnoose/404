{% extends "base.html" %}
{% load static %}

{% block title %}Resultater{% endblock %}

{% block content %}
<h1 class="lesson-title">Grunnleggende Python – Quizresultater</h1>

<div class="lesson-card">
  <div class="lesson-card-header quiz-header">
    <h2>Resultater</h2>
  </div>

  <div class="lesson-card-content">
    <p>Du fikk <strong>{{ correct_count }}</strong> av <strong>{{ total }}</strong> riktige!</p>

    {% for item in feedback %}
      <div class="quiz-result-item">
        <p><strong>{{ forloop.counter }}. {{ item.question }}</strong></p>
        <p>
          Du svarte: <em>{{ item.chosen_answer }}</em><br />
          Riktig svar: <em>{{ item.correct_answer }}</em>
        </p>
        {% if not item.is_correct %}
        <p class="explanation">
          <strong>Forklaring:</strong> {{ item.explanation }}
        </p>
        {% endif %}
        <hr />
      </div>
    {% endfor %}
  </div>

  <div class="lesson-card-footer quiz-result-footer">
    
    <a href="{% url 'python_quiz' %}" class="button retake-btn">Ta quiz på nytt</a>
    <a href="{% url 'module_overview' %}" class="button alt exit-btn">Avslutt</a>
  </div>
</div>


<style>
  .quiz-result-footer {
    display: flex;
    justify-content: space-evenly;
    gap: 1em; 
  }

  .quiz-result-item {
    margin-bottom: 1.5em;
  }

  .explanation {
    margin-top: 0.5em;
    color: #666; 
  }
</style>
{% endblock %}
